/* pica 0.0.0 nodeca/pica */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.pica=t()}}(function(){return function t(e,r,n){function i(a,f){if(!r[a]){if(!e[a]){var u="function"==typeof require&&require;if(!f&&u)return u(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return i(r?r:t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({"./":[function(t,e,r){"use strict";function n(t){return Object.prototype.toString.call(t)}function i(t){return"[object Function]"===n(t)}function o(e,r,n,o,a,c,h){var d;i(c)&&(h=c,c=3),f?(d=t("webworkify")(s),d.onmessage=function(t){h(t.data.err,t.data.output),d.terminate()},d.postMessage({src:e,width:0|r,height:0|n,toWidth:0|o,toHeight:0|a,method:c})):u(e,0|r,0|n,0|o,0|a,c,h)}function a(t,e,r,n){var a=t.width,f=t.height,u=e.width,s=e.height;i(r)&&(n=r,r=3);var c=t.getContext("2d").getImageData(0,0,0|a,0|f).data;o(c,0|a,0|f,0|u,0|s,r,function(t,r){if(t)return void n(t);var i=e.getContext("2d"),o=i.getImageData(0,0,0|u,0|s);o.data.set(r),i.putImageData(o,0,0),n()})}var f="undefined"!=typeof window&&"Worker"in window,u=t("./lib/resize"),s=t("./lib/resize_worker");r.resizeBuffer=o,r.resizeCanvas=a},{"./lib/resize":2,"./lib/resize_worker":3,webworkify:4}],1:[function(t,e){"use strict";function r(t){return 0>t?0:t>255?255:t}function n(t){return Math.floor(t*s)}function i(t,e,r){var i,o,a,f,u,s,h,d,l,p,w,v,g,M,m,y,b,x=c[t].filter,z=r/e,k=1/z,j=Math.min(1,z),I=c[t].win/j,O=Math.floor(2*(I+1)),q=new Int16Array((O+2)*r),U=0;for(i=0;r>i;i++){for(o=(i+.5)*k,a=Math.max(0,Math.floor(o-I)),f=Math.min(e-1,Math.ceil(o+I)),u=f-a+1,s=new Float32Array(u),h=new Int16Array(u),d=0,p=a,w=0;f>=p;p++,w++)v=x((p+.5-o)*j),d+=v,s[w]=v;for(l=0,w=0;w<s.length;w++)g=n(s[w]/d),l+=g,h[w]=g;for(h[r>>1]+=n(1)-l,M=0;M<h.length&&0===h[M];)M++;if(M<h.length){for(m=h.length-1;m>0&&0===h[m];)m--;y=a+M,b=m-M+1,q[U++]=y,q[U++]=b,q.set(h.subarray(M,m+1),U),U+=b}else q[U++]=0,q[U++]=0}return q}function o(t,e,n,i,o,a,f){var s,c,h,d,l,p,w,v,g,M,m,y=0,b=0;for(g=0;i>g;g++){for(l=0,M=0;o>M;M++){for(p=f[l++],w=f[l++],v=y+4*p,s=c=h=d=0;w>0;w--)m=f[l++],s+=m*t[v++],c+=m*t[v++],h+=m*t[v++],d+=m*t[v++];e[b++]=r(s>>u),e[b++]=r(c>>u),e[b++]=r(h>>u),e[b++]=r(d>>u)}y+=4*n}}function a(t,e,n,i,o,a,f,s){var c,h,d,l,p,w,v,g,M,m,y,b,x=0,z=0;for(M=0;o>M;M++){for(p=0,m=0;a>m;m++){for(w=f[p++],v=f[p++],g=x+w*o*4,c=h=d=l=0;v>0;v--)y=f[p++],c+=y*t[g++],h+=y*t[g++],d+=y*t[g++],s&&(l+=y*t[g]),g+=4*o-3;e[z++]=r(c>>u),e[z++]=r(h>>u),e[z++]=r(d>>u),s?(b=Math.max(c,h,d),b>l&&(l=b),e[z]=r(l>>u)):e[z]=255,z+=4*o-3}x+=4,z=x}}function f(t,e,r,n,f,u){if(1>r||1>n||1>f||1>u)return[];var s=i(e,r,f),c=i(e,n,u),h=new Uint8Array(f*n*4),d=new Uint8Array(f*u*4);return o(t,h,r,n,f,u,s),a(h,d,f,n,f,u,c,!1),d}var u=14,s=1<<u,c=[{win:.5,filter:function(t){return t>=-.5&&.5>t?1:0}},{win:1,filter:function(t){if(-1>=t||t>=1)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var e=t*Math.PI;return Math.sin(e)/e*(.54+.46*Math.cos(e/1))}},{win:2,filter:function(t){if(-2>=t||t>=2)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/2)/(e/2)}},{win:3,filter:function(t){if(-3>=t||t>=3)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var e=t*Math.PI;return Math.sin(e)/e*Math.sin(e/3)/(e/3)}}];e.exports=f},{}],2:[function(t,e){"use strict";var r=t("./pure/resize");e.exports=function(t,e,n,i,o,a,f){var u=r(t,a,e,n,i,o);f(null,u)}},{"./pure/resize":1}],3:[function(t,e){"use strict";e.exports=function(e){var r=t("./resize");e.onmessage=function(t){var n=t.data;r(n.src,n.width,n.height,n.toWidth,n.toHeight,n.method,function(t,r){return t?void e.postMessage({err:t}):void e.postMessage({output:r})})}}},{"./resize":2}],4:[function(t,e){var r=arguments[3],n=arguments[4],i=arguments[5],o=JSON.stringify;e.exports=function(t){for(var e,a=Object.keys(i),f=0,u=a.length;u>f;f++){var s=a[f];if(i[s].exports===t){e=s;break}}if(!e){e=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var c={},f=0,u=a.length;u>f;f++){var s=a[f];c[s]=s}n[e]=[Function(["require","module","exports"],"("+t+")(self)"),c]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),d={};d[e]=e,n[h]=[Function(["require"],"require("+o(e)+")(self)"),d];var l="("+r+")({"+Object.keys(n).map(function(t){return o(t)+":["+n[t][0]+","+o(n[t][1])+"]"}).join(",")+"},{},["+o(h)+"])";return new Worker(window.URL.createObjectURL(new Blob([l],{type:"text/javascript"})))}},{}]},{},[])("./")});