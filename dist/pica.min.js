/* pica 1.0.4 nodeca/pica */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.pica=t()}}(function(){return function t(r,e,n){function i(a,u){if(!e[a]){if(!r[a]){var f="function"==typeof require&&require;if(!u&&f)return f(a,!0);if(o)return o(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var h=e[a]={exports:{}};r[a][0].call(h.exports,function(t){var e=r[a][1][t];return i(e?e:t)},h,h.exports,t,r,e,n)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({"./":[function(t,r,e){"use strict";function n(t){return Object.prototype.toString.call(t)}function i(t){return"[object Function]"===n(t)}function o(r,n){var i,o={src:r.src,dest:null,width:0|r.width,height:0|r.height,toWidth:0|r.toWidth,toHeight:0|r.toHeight,quality:r.quality,alpha:r.alpha,unsharpAmount:r.unsharpAmount,unsharpThreshold:r.unsharpThreshold};u&&e.WW?(i=t("webworkify")(l),i.onmessage=function(t){var e,o,a=r.dest,u=t.data.output;if(a)if(a.set)a.set(u);else for(e=0,o=u.length;o>e;e++)a[e]=u[e];n(t.data.err,u),i.terminate()},r.transferable?i.postMessage(o,[r.src.buffer]):i.postMessage(o)):(o.dest=r.dest,h(o,n))}function a(t,r,e,n){var a=t.width,u=t.height,f=r.width,s=r.height;i(e)&&(n=e,e={}),isNaN(e)||(e={quality:e,alpha:!1});var h=r.getContext("2d"),l=h.getImageData(0,0,f,s),c={src:t.getContext("2d").getImageData(0,0,a,u).data,dest:l.data,width:t.width,height:t.height,toWidth:r.width,toHeight:r.height,quality:e.quality,alpha:e.alpha,unsharpAmount:e.unsharpAmount,unsharpThreshold:e.unsharpThreshold,transferable:!0};o(c,function(t){return t?void n(t):(h.putImageData(l,0,0),void n())})}var u="undefined"!=typeof window&&"Worker"in window;if(u)try{var f=t("webworkify")(function(){});f.terminate()}catch(s){u=!1}var h=t("./lib/resize"),l=t("./lib/resize_worker");e.resizeBuffer=o,e.resizeCanvas=a,e.WW=u},{"./lib/resize":3,"./lib/resize_worker":4,webworkify:5}],1:[function(t,r){"use strict";function e(t){return 0>t?0:t>255?255:t}function n(t){return Math.floor(t*h)}function i(t,r,e){var i,o,a,u,f,s,h,c,d,p,v,g,w,y,M,m,b,x=l[t].filter,q=e/r,A=1/q,k=Math.min(1,q),z=l[t].win/k,W=Math.floor(2*(z+1)),j=new Int16Array((W+2)*e),I=0;for(i=0;e>i;i++){for(o=(i+.5)*A,a=Math.max(0,Math.floor(o-z)),u=Math.min(r-1,Math.ceil(o+z)),f=u-a+1,s=new Float32Array(f),h=new Int16Array(f),c=0,p=a,v=0;u>=p;p++,v++)g=x((p+.5-o)*k),c+=g,s[v]=g;for(d=0,v=0;v<s.length;v++)w=n(s[v]/c),d+=w,h[v]=w;for(h[e>>1]+=n(1)-d,y=0;y<h.length&&0===h[y];)y++;if(y<h.length){for(M=h.length-1;M>0&&0===h[M];)M--;m=a+y,b=M-y+1,j[I++]=m,j[I++]=b,j.set(h.subarray(y,M+1),I),I+=b}else j[I++]=0,j[I++]=0}return j}function o(t,r,n,i,o,a,u){var f,s,h,l,c,d,p,v,g,w,y,M=0,m=0;for(g=0;i>g;g++){for(c=0,w=0;o>w;w++){for(d=u[c++],p=u[c++],v=M+4*d|0,f=s=h=l=0;p>0;p--)y=u[c++],l=l+y*t[v+3]|0,h=h+y*t[v+2]|0,s=s+y*t[v+1]|0,f=f+y*t[v]|0,v=v+4|0;r[m++]=e((0|f)>>14),r[m++]=e((0|s)>>14),r[m++]=e((0|h)>>14),r[m++]=e((0|l)>>14)}M+=4*n}}function a(t,r,n,i,o,a,u,f){var s,h,l,c,d,p,v,g,w,y,M,m=0,b=0;for(w=0;o>w;w++){for(d=0,y=0;a>y;y++){for(p=u[d++],v=u[d++],g=m+p*o*4|0,s=h=l=c=0;v>0;v--)M=u[d++],f&&(c=c+M*t[g+3]|0),l=l+M*t[g+2]|0,h=h+M*t[g+1]|0,s=s+M*t[g]|0,g=g+4*o|0;r[b++]=e((0|s)>>14),r[b++]=e((0|h)>>14),r[b++]=e((0|l)>>14),f?(s>c&&(c=s),h>c&&(c=h),l>c&&(c=l),r[b]=e((0|c)>>14)):r[b]=255,b+=4*o-3}m+=4,b=m}}function u(t){var r=t.src,e=t.width,n=t.height,u=t.toWidth,s=t.toHeight,h=t.dest||new Uint8Array(u*s*4),l=void 0===t.quality?3:t.quality,c=t.alpha||!1,d=void 0===t.unsharpAmount?0:0|t.unsharpAmount,p=void 0===t.unsharpThreshold?0:0|t.unsharpThreshold;if(1>e||1>n||1>u||1>s)return[];var v=i(l,e,u),g=i(l,n,s),w=new Uint8Array(u*n*4);return o(r,w,e,n,u,s,v),a(w,h,u,n,u,s,g,c),d&&f(h,u,s,d,1,p),h}var f=t("./unsharp"),s=14,h=1<<s,l=[{win:.5,filter:function(t){return t>=-.5&&.5>t?1:0}},{win:1,filter:function(t){if(-1>=t||t>=1)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var r=t*Math.PI;return Math.sin(r)/r*(.54+.46*Math.cos(r/1))}},{win:2,filter:function(t){if(-2>=t||t>=2)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var r=t*Math.PI;return Math.sin(r)/r*Math.sin(r/2)/(r/2)}},{win:3,filter:function(t){if(-3>=t||t>=3)return 0;if(t>-1.1920929e-7&&1.1920929e-7>t)return 1;var r=t*Math.PI;return Math.sin(r)/r*Math.sin(r/3)/(r/3)}}];r.exports=u},{"./unsharp":2}],2:[function(t,r){"use strict";function e(t){return 0>t?0:t>255?255:t}function n(t,r,e){var n,i,o=r*e,a=new Uint32Array(o);for(n=0,i=0;o>n;n++)a[n]=7471*t[i+2]+38470*t[i+1]+19595*t[i]>>>8,i=i+4|0;return a}function i(t,r,e,n,i){var o,u,h,l,c,d,p,v=0,g=a,w=f;if(d=0,p=0,r>=w&&e>=w&&n>r+w&&i>e+w){for(u=0;3>u;u++)for(o=0;3>o;o++)h=r+o-w,l=e+u-w,p+=t[h+l*n]*g[v++];return(p-p%s)/s}for(u=0;3>u;u++)for(o=0;3>o;o++)h=r+o-w,l=e+u-w,h>=0&&n>h&&l>=0&&i>l&&(c=g[v],d+=c,p+=t[h+l*n]*c),v++;return(p-p%d)/d}function o(t,r,o,a,u,f){var s,h,l,c,d,p=0,v=Math.floor(256*a/50),g=n(t,r,o),w=f<<8,y=0;for(h=0;o>h;h++)for(s=0;r>s;s++)p=g[y++]-i(g,s,h,r,o)|0,Math.abs(p)>w&&(c=65536+(p*v>>8),d=4*(s+h*r),l=t[d],t[d++]=e(l*c>>16),l=t[d],t[d++]=e(l*c>>16),l=t[d],t[d]=e(l*c>>16))}for(var a=new Uint8Array([1,2,1,2,4,2,1,2,1]),u=Math.floor(Math.sqrt(a.length)),f=Math.floor(u/2),s=0,h=0;h<a.length;h++)s+=a[h];r.exports=o},{}],3:[function(t,r){"use strict";var e=t("./pure/resize");r.exports=function(t,r){var n=e(t);r(null,n)}},{"./pure/resize":1}],4:[function(t,r){"use strict";r.exports=function(r){var e=t("./resize");r.onmessage=function(t){e(t.data,function(t,e){return t?void r.postMessage({err:t}):void r.postMessage({output:e},[e.buffer])})}}},{"./resize":3}],5:[function(t,r){var e=arguments[3],n=arguments[4],i=arguments[5],o=JSON.stringify;r.exports=function(t){for(var r,a=Object.keys(i),u=0,f=a.length;f>u;u++){var s=a[u];if(i[s].exports===t){r=s;break}}if(!r){r=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var h={},u=0,f=a.length;f>u;u++){var s=a[u];h[s]=s}n[r]=[Function(["require","module","exports"],"("+t+")(self)"),h]}var l=Math.floor(Math.pow(16,8)*Math.random()).toString(16),c={};c[r]=r,n[l]=[Function(["require"],"require("+o(r)+")(self)"),c];var d="("+e+")({"+Object.keys(n).map(function(t){return o(t)+":["+n[t][0]+","+o(n[t][1])+"]"}).join(",")+"},{},["+o(l)+"])";return new Worker(window.URL.createObjectURL(new Blob([d],{type:"text/javascript"})))}},{}]},{},[])("./")});